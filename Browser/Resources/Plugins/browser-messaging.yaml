---
imports:
  - path: "@my/manifests/messaging.fml.yaml"
    channel: none
    features:
      messaging:
        - value:
            triggers:
              USER_RECENTLY_INSTALLED: days_since_install < 7
              USER_RECENTLY_UPDATED: days_since_update < 7 && days_since_install != days_since_update
              USER_TIER_ONE_COUNTRY: ('US' in locale || 'GB' in locale || 'CA' in locale || 'DE' in locale || 'FR' in locale)
              USER_EN_SPEAKER: "'en' in locale"
              USER_DE_SPEAKER: "'de' in locale"
              USER_FR_SPEAKER: "'fr' in locale"
              DEVICE_ANDROID: os == 'Android'
              DEVICE_IOS: os == 'iOS'
              ALWAYS: "true"
              NEVER: "false"
            actions:
              OPEN_SETTINGS: ://deep-link?url=settings/general
              OPEN_SETTINGS_NEW_TAB: ://deep-link?url=settings/newtab
              OPEN_SETTINGS_HOMESCREEN: ://deep-link?url=settings/homepage
              OPEN_SETTINGS_WALLPAPERS: ://deep-link?url=settings/wallpaper
              OPEN_SETTINGS_EMAIL: ://deep-link?url=settings/mailto
              OPEN_SETTINGS_SEARCH_ENGINE: ://deep-link?url=settings/search
              OPEN_SETTINGS_PRIVACY: ://deep-link?url=settings/clear-private-data
              OPEN_SETTINGS_FXA: ://deep-link?url=settings/fxa
              OPEN_SETTINGS_THEME: ://deep-link?url=settings/theme
              VIEW_BOOKMARKS: ://deep-link?url=homepanel/bookmarks
              VIEW_TOP_SITES: ://deep-link?url=homepanel/top-sites
              VIEW_READING_LIST: ://deep-link?url=homepanel/reading-list
              VIEW_HISTORY: ://deep-link?url=homepanel/history
              VIEW_DOWNLOADS: ://deep-link?url=homepanel/downloads
              ENABLE_PRIVATE_BROWSING: ://deep-link?url=homepanel/new-private-tab
              MAKE_DEFAULT_BROWSER: ://deep-link?url=default-browser/system-settings
            styles:
              DEFAULT:
                priority: 50
                max-display-count: 5
              PERSISTENT:
                priority: 50
                max-display-count: 20
              SURVEY:
                priority: 55
                max-display-count: 10
              WARNING:
                priority: 60
                max-display-count: 10
              URGENT:
                priority: 100
                max-display-count: 10
